<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="grammar.xsd" type="application/xml" schematypens="http://www.w3.org/2001/XMLSchema"?>
<root>
    <define_status name="FreeCard">
        <decrease_on_turn_end>99</decrease_on_turn_end>
        <on_add>
            <add_cost_modifier>freeCard</add_cost_modifier>
        </on_add>
        <on_remove>
            <add_cost_modifier>freeCard</add_cost_modifier>
        </on_remove>
    </define_status>

    <define_status name="draw_ban">
        <decrease_on_turn_end>99</decrease_on_turn_end>
        <on_add>
            <set_draw_ban>true</set_draw_ban>
        </on_add>     
        <on_remove>
            <set_draw_ban>false</set_draw_ban>
        </on_remove>
    </define_status>

    <define_status name="outPlusByPreach">
        <on_after_play_card>
            <if>
                <condition>@Card.category==0</condition>
                <action>
                    <modify_personality>
                        <outside>@outPlusByPreach</outside>
                    </modify_personality>
                </action>
            </if>
        </on_after_play_card>
    </define_status>


    <define_status name="RevealByOut">
        <on_turn_start>
            <random_reveal>
                <num>@Outside*@RevealByOut</num>
            </random_reveal>
        </on_turn_start>
    </define_status>

    <define_card name="RevealByOut">
        <title>测试【持续】回合开始时，每持有一点外感便随机揭示x个判定</title>
        <effect_desc></effect_desc>
        <condition_desc></condition_desc>
        <meme></meme>
        <play_effect>
            <add_status>
                <name>RevealByOut</name>
                <value>1</value>
            </add_status>
        </play_effect>
    </define_card>

    <define_card name="Draw" category="0">
        <title>抽牌1title</title>
        <condition_desc></condition_desc>
        <effect_desc>抽牌1desc</effect_desc>
        <meme>抽牌1meme</meme>
        <play_effect>
            <draw>1</draw>
        </play_effect>
    </define_card>

    <define_card name="AddPreach" category="0">
        <title>测试向手牌增加1张“说教“卡牌</title>
        <condition_desc></condition_desc>
        <effect_desc>测试向手牌增加1张“说教“卡牌</effect_desc>
        <meme>meme</meme>
        <play_effect>
            <add_card_to_hand>
                <name>Preach</name>
                <num>1</num>
            </add_card_to_hand>
        </play_effect>
    </define_card>

    <define_card name="Reconstruction" category="0">
        <title>测试【丢弃所有】向手牌中增加弃牌数量的【说教】</title>
        <condition_desc></condition_desc>
        <effect_desc>测试【丢弃所有】向手牌中增加弃牌数量的【说教】</effect_desc>
        <meme>meme</meme>
        <play_effect>
            <set_variable variable="tmp">@hand.count-1</set_variable>
            <discard_all></discard_all>
            <add_card_to_hand>
                <name>Preach</name>
                <num>@tmp</num>
            </add_card_to_hand>
        </play_effect>
    </define_card>

    <define_card name="RandomActive">
        <title>测试随机【激活】1张手牌</title>
        <condition_desc></condition_desc>
        <effect_desc>测试随机【激活】1张手牌</effect_desc>
        <meme>meme</meme>
        <play_effect>
            <hand>
                <random_card>
                    <num>1</num>
                    <action>
                        <activate permanent="false"></activate>
                    </action>
                </random_card>
            </hand>
        </play_effect>
    </define_card>

    <define_card name="AllHandActive">
        <title>测试【激活】全部手牌</title>
        <condition_desc></condition_desc>
        <effect_desc>测试【激活】全部手牌</effect_desc>
        <meme>meme</meme>
        <play_effect>
            <hand>
                <foreach_card>
                    <action>
                        <activate permanent="false"></activate>
                    </action>
                </foreach_card>
            </hand>
        </play_effect>
    </define_card>
</root>